function lockScroll(e){if(e){const e=window.innerWidth-document.documentElement.clientWidth;e>0&&(document.documentElement.style.paddingRight=e+"px",document.body.style.paddingRight=e+"px"),document.documentElement.style.overflow="hidden",document.body.style.touchAction="none"}else document.documentElement.style.overflow="",document.documentElement.style.paddingRight="",document.body.style.paddingRight="",document.body.style.touchAction=""}function slowScroll(e){const t=document.querySelector(e);return t&&window.scrollTo({top:t.offsetTop,behavior:"smooth"}),!1}window.lockScroll=lockScroll,$(function(){const e=$("#openMenu"),t=$("#mobile-menu");function n(e){const t=$("body");if(e){const e=window.innerWidth-document.documentElement.clientWidth;t.css({overflow:"hidden","padding-right":e>0?e+"px":""})}else t.css({overflow:"","padding-right":""})}if(e.length&&t.length){function o(){t.removeClass("active"),e.find("i").removeClass("fa-times fa-xmark").addClass("fa-bars"),e.attr("aria-expanded","false"),t.attr("aria-hidden","true"),n(!1),e.focus()}e.attr({"aria-expanded":"false","aria-controls":t.attr("id")}),t.attr({"aria-hidden":"true"}),e.on("click",function(){t.hasClass("active")?o():(t.addClass("active"),e.find("i").removeClass("fa-bars").addClass("fa-times fa-xmark"),e.attr("aria-expanded","true"),t.attr("aria-hidden","false"),n(!0),t.find("a").first().focus())}),t.on("click","a",function(){o()}),$(document).on("click",function(e){t.hasClass("active")&&!$(e.target).closest("#mobile-menu, #openMenu").length&&o()}),$(document).on("keydown",function(e){if("Escape"===e.key&&t.hasClass("active")&&o(),"Tab"===e.key&&t.hasClass("active")){const n=t.find('a, button, input, [tabindex]:not([tabindex="-1"])').filter(":visible");if(!n.length)return;const o=n.first()[0],a=n.last()[0];e.shiftKey&&document.activeElement===o?(e.preventDefault(),a.focus()):e.shiftKey||document.activeElement!==a||(e.preventDefault(),o.focus())}})}}),function(){const e=(e,t=document)=>t.querySelector(e),t=(e,t=document)=>Array.from(t.querySelectorAll(e)),n=e("#year");n&&(n.textContent=(new Date).getFullYear());const o=e("header.site"),a=()=>{o&&(o.style.boxShadow=window.scrollY>4?"0 6px 18px rgba(0,0,0,.25)":"none")};a(),window.addEventListener("scroll",a,{passive:!0});const r=window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches;if(!r&&"IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("_in"),t.unobserve(e.target))})},{threshold:.12,rootMargin:"0px 0px -10% 0px"});t(".reveal-up").forEach(t=>e.observe(t))}else t(".reveal-up").forEach(e=>e.classList.add("_in"));const i=e("#playVideo"),s=e("#videoBox");i&&s&&i.addEventListener("click",()=>{s.innerHTML='\n        <iframe tabindex="-1"\n          src="https://www.youtube.com/embed/KOqxa40myBk?autoplay=1&modestbranding=1&rel=0&playsinline=1"\n          title="Видео-превью LinguaPro"\n          frameborder="0"\n          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"\n          allowfullscreen\n          loading="lazy">\n        </iframe>\n      ';const e=s.querySelector("iframe");e?.focus?.()}),function(){const t=e("#signup"),n=e("#result");if(!t||!n)return;n.hasAttribute("role")||n.setAttribute("role","status"),n.hasAttribute("aria-live")||n.setAttribute("aria-live","polite");let o=!1;function a(e,t=""){let o="";"success"===t&&(o="✅ "),"error"===t&&(o="❌ "),"loading"===t&&(o="⏳ "),n.textContent=o+e,n.className="meta",t&&n.classList.add(t),n.scrollIntoView({block:"nearest",behavior:"smooth"})}t.addEventListener("submit",async e=>{if(e.preventDefault(),o)return;const n=function(){const e=t.email?.value.trim()||"";return t.name?.value.trim()?e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?t.level?.value?t.goal?.value?t.offer?.checked?t.pdn?.checked?t.botcheck&&t.botcheck.value?"Ошибка отправки.":t.querySelector('input[name="access_key"]')?.value?null:"Не задан access_key формы.":"Нужно согласие на обработку данных":"Нужно согласиться с офертой":"Выберите цель":"Выберите уровень":"Проверьте email":"Введите email":"Введите имя"}();if(n)return void a(n,"error");const r=t.querySelector('button[type="submit"]')||t.querySelector("button");r&&(r.setAttribute("aria-busy","true"),r.disabled=!0),o=!0;const i=r?.textContent;r&&(r.textContent="Отправляем…"),a("Отправляем…","loading");try{const e=new FormData(t),n=await fetch("https://api.web3forms.com/submit",{method:"POST",body:e,headers:{Accept:"application/json"}});if(!n.ok){const e=await n.text();throw new Error(e||`HTTP ${n.status}`)}let o;try{o=await n.json()}catch(e){throw new Error("Сервер вернул некорректный ответ")}o?.success?(a("Спасибо! Мы свяжемся с вами в ближайшее время.","success"),t.reset()):a(o?.message||"Ошибка отправки. Попробуйте позже.","error")}catch(e){console.error(e),a("Не удалось отправить форму. Проверьте соединение и попробуйте ещё раз.","error")}finally{o=!1,r&&(r.disabled=!1,r.removeAttribute("aria-busy"),i&&(r.textContent=i))}})}()}();